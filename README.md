# Auto.js 6 抖音私信自动化脚本部署与运行指南

## 脚本功能概述

本脚本实现抖音App的自动化操作，主要功能包括：

1. 自动启动抖音APP（从冷启动状态）
2. 导航至添加好友页面
3. 搜索并添加指定抖音账号
4. 进入用户主页
5. 发送私信消息

## 环境要求

- **操作系统**：Android 10 及以上版本
- **Auto.js 版本**：6.3.0 或更高
- **抖音版本**：新版抖音
- **必要权限**：无障碍服务权限

## 部署步骤

### 1. 安装 Auto.js 6

1. 从官方渠道下载最新版 Auto.js 6 APK：
   
   ```
   https://github.com/SuperMonster003/AutoJs6/releases
   ```

2. 安装应用并授予所有必要权限

### 2. 导入脚本

1. 将脚本文件保存为 `douyin_auto_add.js`
2. 通过以下任一方式导入脚本：
   - 在 Auto.js 中使用文件导入功能
   - 直接复制粘贴到 Auto.js 编辑器中

### 3. 配置脚本参数

在脚本开头修改以下变量：

```javascript
const TARGET_ACCOUNT = "your_target_account"; // 替换为目标抖音号
const MESSAGE_CONTENT = "自定义消息内容"; // 替换为要发送的消息
```

### 4. 设置无障碍服务

1. 打开手机设置 > 辅助功能 > 无障碍
2. 找到 Auto.js 6 并启用服务
3. 在 Auto.js 中检查服务状态（应显示"服务已启用"）

## 运行脚本

### 启动方式

**Auto.js 内运行**：

- 打开 Auto.js 应用
- 找到 `douyin_auto_add.js` 脚本
- 点击运行按钮

### 操作流程

1. 确保抖音APP完全关闭
2. 启动脚本
3. 观察自动化流程：
   - 抖音APP自动启动
   - 跳转到"我"的页面
   - 进入添加好友界面
   - 搜索并进入用户主页
   - 关注目标账号
   - 发送私信内容
4. 脚本完成后自动停止

## 调试与排错

### 常见问题解决

| 问题现象    | 解决方案                                               |
| ------- | -------------------------------------------------- |
| 无法找到控件  | 1. 增加`sleep`时长<br>2. 使用`findOne(3000)`替代默认超时       |
| 抖音界面更新  | 1. 使用布局分析更新选择器<br>2. 修改`clickBottomTab`索引值         |
| 频繁操作被限制 | 1. 增加操作间延迟<br>2. 添加随机等待时间`sleep(random(500,1500))` |
| 权限问题    | 1. 重新授予无障碍权限<br>2. 检查抖音的悬浮窗权限                      |

## 更新与维护

- **官方文档**：https://docs.autojs6.com
- **GitHub仓库**：https://github.com/SuperMonster003/AutoJs6
